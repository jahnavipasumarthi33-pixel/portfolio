{% extends "base.html" %}

{% block title %}Portfolio - JAHNAVI PASUMARTHI{% endblock %}

{% block content %}
<div class="page-header">
    <div class="container">
        <h1>{{ resume_data.name }}</h1>
        <p class="breadcrumb">{{ resume_data.contact }}</p>
        <p class="lead">{{ resume_data.summary }}</p>
        <a href="{{ url_for('download', filename='JAHNAVI_PASUMARTHI_resume.txt') }}" class="btn btn-primary">Download Resume</a>
    </div>
</div>

<section class="portfolio-section">
    <div class="container">
        <div class="columns">
            <aside class="sidebar">
                <h3>Certifications</h3>
                <ul>
                    {% for cert in resume_data.certifications %}
                    <li>{{ cert }}</li>
                    {% endfor %}
                </ul>

                <h3>Skills</h3>
                {% for section, items in resume_data.skills.items() %}
                <h4>{{ section }}</h4>
                <ul>
                    {% for item in items %}
                    <li>{{ item }}</li>
                    {% endfor %}
                </ul>
                {% endfor %}

                <h3>Education</h3>
                <ul>
                    {% for edu in resume_data.education %}
                    <li><strong>{{ edu.degree }}</strong><br>{{ edu.institution }} ({{ edu.years }}) â€” Aggregate: {{ edu.aggregate }}</li>
                    {% endfor %}
                </ul>

                <h3>Declaration</h3>
                <p>I hereby declare that the above information is true and correct to the best of my knowledge and belief.<br><strong>Place:</strong> Sathupally</p>
            </aside>

            <main class="projects">
                <div class="section-title">
                    <h2>Projects</h2>
                    <p class="section-subtitle">Projects from my resume</p>
                </div>

                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterProjects('all', this)">All</button>
                    <button class="filter-btn" onclick="filterProjects('python', this)">Python</button>
                    <button class="filter-btn" onclick="filterProjects('machine', this)">Machine Learning</button>
                    <button class="filter-btn" onclick="filterProjects('arduino', this)">Embedded</button>
                </div>

                <div class="projects-grid-full">
                    {% for project in projects %}
                    <div class="project-card-large" data-category="{{ project.technologies | join(' ') | lower }}">
                        <div class="project-header">
                            <div class="project-image-large">
                                <div class="placeholder-image-large">{{ project.title[0] }}</div>
                            </div>
                            <div class="project-overlay">
                                <a href="{{ url_for('project_detail', project_id=project.id) }}" class="btn btn-small">View Project</a>
                            </div>
                        </div>
                        <div class="project-info">
                            <h3>{{ project.title }}</h3>
                            <p>{{ project.description }}</p>
                            <div class="project-tech">
                                {% for tech in project.technologies %}
                                <span class="tech-badge">{{ tech }}</span>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </main>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
function filterProjects(category, el) {
    const buttons = document.querySelectorAll('.filter-btn');
    const projects = document.querySelectorAll('.project-card-large');
    
    buttons.forEach(btn => btn.classList.remove('active'));
    if (el) el.classList.add('active');
    
    projects.forEach(project => {
        if (category === 'all') {
            project.style.display = 'block';
        } else {
            project.style.display = project.dataset.category.includes(category) ? 'block' : 'none';
        }
    });
}
</script>
{% endblock %}
